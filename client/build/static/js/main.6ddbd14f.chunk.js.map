{"version":3,"sources":["../node_modules/peerjs/dist sync","actions/types.js","api/index.js","actions/alert.js","actions/auth.js","components/Home/Home.jsx","components/Login/Login.jsx","components/Register/Register.jsx","components/Message/Message.jsx","components/Room/Room.jsx","reducers/auth.js","reducers/alert.js","reducers/index.js","api/setToken.js","store.js","components/PrivateRoute.js","App.js","index.js"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","LOGIN_SUCCESS","LOGIN_FAILED","REGISTER_SUCCESS","REGISTER_FAILED","LOAD_USER_SUCCESS","LOAD_USER_FAILED","LOG_OUT","ADD_ALERT","REMOVE_ALERT","api","axios","create","baseURL","headers","interceptors","response","use","res","err","status","Promise","reject","addAlert","msg","type","timeOut","dispatch","uuidv4","payload","setTimeout","loadUser","a","get","data","connect","state","isAuthenticated","auth","logout","useState","setId","className","width","height","viewBox","d","fill","onClick","to","alerts","login","email","password","body","post","setEmail","setPassword","handleOnChange","event","target","value","onSubmit","preventDefault","htmlFor","placeholder","onChange","map","item","Register","register","form","setForm","handleChange","console","log","index","prototype","PropTypes","array","func","isRequired","name","user","room","socket","messages","setMessages","message","setMessage","useEffect","on","element","document","getElementById","scrollTop","scrollHeight","off","renderMessage","emit","autoComplete","useParams","setSocket","members","setMembers","peer","setPeer","playStream","stream","video","createElement","div","videos","srcObject","muted","playPromise","play","undefined","then","_","catch","error","appendChild","io","transports","Peer","peerID","userPeers","innerHTML","navigator","mediaDevices","getUserMedia","audio","forEach","member","call","remoteStream","answer","initialState","token","localStorage","getItem","loading","authReducer","action","alertReducer","filter","combineReducers","setToken","defaults","common","setItem","removeItem","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","currentState","getState","subscribe","preState","PrivateRoute","Component","component","rest","render","props","object","App","path","exact","Login","Room","Home","ReactDOM"],"mappings":"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","file":"static/js/main.6ddbd14f.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 133;","export const LOGIN_SUCCESS = \"LOGIN_SUCCESS\";\nexport const LOGIN_FAILED = \"LOGIN_FAILED\";\nexport const REGISTER_SUCCESS = \"REGISTER_SUCCESS\";\nexport const REGISTER_FAILED = \"REGISTER_FAILED\";\nexport const LOAD_USER_SUCCESS = \"LOAD_USER_SUCCESS\";\nexport const LOAD_USER_FAILED = \"LOAD_USER_FAILED\";\nexport const LOG_OUT = \"LOG_OUT\";\nexport const ADD_ALERT = \"ADD_ALERT\";\nexport const REMOVE_ALERT = \"REMOVE_ALERT\";\n","import axios from \"axios\";\n\nconst api = axios.create({\n  baseURL: \"https://room-call-chat-app.herokuapp.com/\",\n  // baseURL: \"http://localhost:5000\",\n  headers: { \"Content-Type\": \"application/json; charset=UTF-8\" },\n});\n\napi.interceptors.response.use(\n  (res) => res,\n  (err) => {\n    if (err.response.status === 401) {\n      // store.dispatch({ type: LOGOUT });\n    }\n    return Promise.reject(err);\n  }\n);\n\nexport default api;\n","import { ADD_ALERT, REMOVE_ALERT } from \"../actions/types\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nexport const addAlert = ({msg, type}, timeOut = 1000) => dispatch => {\n  const id = uuidv4();\n  dispatch({ type: ADD_ALERT, payload: { id, msg, type } });\n  setTimeout(\n    () => dispatch({ type: REMOVE_ALERT, payload: { id, msg } }),\n    timeOut\n  );\n};\n","import {\n  LOGIN_SUCCESS,\n  LOGIN_FAILED,\n  REGISTER_SUCCESS,\n  REGISTER_FAILED,\n  LOAD_USER_SUCCESS,\n  LOAD_USER_FAILED,\n  LOG_OUT,\n} from \"../actions/types\";\nimport api from \"../api/index\";\nimport { addAlert } from \"./alert\";\nexport const login = (email, password) => async (dispatch) => {\n  const body = { email, password };\n  try {\n    const res = await api.post(\"/login\", body);\n    dispatch({ type: LOGIN_SUCCESS, payload: res.data });\n    dispatch(loadUser());\n    dispatch(addAlert({msg: \"Login successful!\", type: \"success\"}));\n  } catch (err) {\n    dispatch({ type: LOGIN_FAILED });\n    dispatch(addAlert({msg: \"Login failed!\", type: \"failed\"}));\n  }\n};\n\nexport const loadUser = () => async (dispatch) => {\n  try {\n    const res = await api.get(\"/auth\");\n    dispatch({ type: LOAD_USER_SUCCESS, payload: res.data });\n  } catch (err) {\n    dispatch({ type: LOAD_USER_FAILED });\n  }\n};\n\nexport const register = ({ name, email, password }) => async (dispatch) => {\n  try {\n    const body = { name, email, password };\n    const res = await api.post(\"/register\", body);\n    dispatch({ type: REGISTER_SUCCESS, payload: res.data });\n    dispatch(addAlert({msg: \"Register successful!\", type: \"success\"}));\n  } catch (err) {\n    dispatch({ type: REGISTER_FAILED });\n    dispatch(addAlert({msg: \"Register failed!\", type: \"failed\"}));\n  }\n};\n\nexport const logout = () => ({\n  type: LOG_OUT,\n});\n","import { Link, Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\nimport { logout } from \"../../actions/auth\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { useState } from \"react\";\nfunction Home({ logout, isAuthenticated }) {\n  let [id, setId] = useState(uuidv4());\n  function handleLogout() {\n    logout();\n  }\n\n  function handleCreateRoom() {\n    setId(uuidv4());\n  }\n\n  if (!isAuthenticated) return <Redirect to=\"/login\" />\n\n  return (\n    <div className=\"flex h-full bg-img-background bg-cover bg-no-repeat w-full justify-center items-center\">\n      <div className=\"flex w-1/2 h-full items-center justify-center\">\n        <div className=\"w-3/4\">\n          <div className=\"flex justify-center\">\n            <div className=\"flex justify-end min-w-3/4 mr-6\">\n              <button className=\"justify-center flex min-w-1/2 items-center bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full focus:outline-none\">\n                <svg width=\"2em\" height=\"2em\" viewBox=\"0 0 24 24\">\n                  <path\n                    d=\"M3.7 7.7a.996.996 0 0 1 1.41 0L12 14.59l4.29-4.3L14.7 8.7c-.62-.62-.18-1.7.71-1.7H20c.55 0 1 .45 1 1v4.59c0 .89-1.08 1.34-1.71.71l-1.59-1.59l-5 5a.996.996 0 0 1-1.41 0L3.7 9.11c-.38-.38-.38-1.02 0-1.41z\"\n                    fill=\"currentColor\"\n                  ></path>\n                </svg>\n                <div>Join meeting</div>\n              </button>\n            </div>\n\n            <div className=\"flex justify-start min-w-3/4 ml-6\">\n              <button\n                onClick={handleCreateRoom}\n                className=\"justify-center focus:outline-none min-w-1/2 flex items-center bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full\"\n              >\n                <svg width=\"2em\" height=\"2em\" viewBox=\"0 0 24 24\">\n                  <path\n                    d=\"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"\n                    fill=\"currentColor\"\n                  ></path>\n                </svg>\n                <div>\n                  <Link to={`/rooms/${id}`}>Create a meeting</Link>\n                </div>\n              </button>\n            </div>\n          </div>\n\n          <div className=\"flex justify-center mt-6\">\n            <div className=\"text-white text-xl text hover:underline cursor-pointer\">\n              {isAuthenticated ? (\n                <Link to=\"/login\" onClick={handleLogout}>\n                  Logout\n                </Link>\n              ) : null}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nHome.propTypes = {\n  isAuthenticated: PropTypes.bool,\n};\n\nconst mapStateToProps = (state) => ({\n  isAuthenticated: state.auth.isAuthenticated,\n});\n\nexport default connect(mapStateToProps, { logout })(Home);\n","import { useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\nimport { login } from \"../../actions/auth\";\nimport { Redirect } from \"react-router\";\nimport { Link } from \"react-router-dom\";\n\nfunction Login({ login, isAuthenticated, alerts }) {\n  let [email, setEmail] = useState(\"\");\n  let [password, setPassword] = useState(\"\");\n\n  function handleOnChange(event) {\n    if (event.target.id === \"email\") setEmail(event.target.value);\n    else setPassword(event.target.value);\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    login(email, password);\n  }\n\n  if (isAuthenticated) {\n    return <Redirect to=\"/\" />;\n  }\n\n  return (\n    <div className=\"h-full bg-img-background bg-cover bg-no-repeat\">\n      <div className=\"w-full h-full max-w-screen-sm\">\n        <div className=\"h-full w-1/2 bg-white bg-opacity-50 shadow-2xl flex items-center justify-center\">\n          <form\n            className=\"flex flex-col items-center rounded\"\n            onSubmit={handleSubmit}\n          >\n            <div className=\"\">\n              <div className=\"text-6xl mb-12\">Sign in</div>\n              <div className=\"mb-4\">\n                <label\n                  className=\"block text-gray-700 text-sm font-bold mb-2\"\n                  htmlFor=\"email\"\n                >\n                  Email\n                </label>\n                <input\n                  className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n                  id=\"email\"\n                  type=\"text\"\n                  placeholder=\"Email\"\n                  onChange={handleOnChange}\n                  value={email}\n                />\n              </div>\n              <div className=\"\">\n                <label\n                  className=\"block text-gray-700 text-sm font-bold mb-2\"\n                  htmlFor=\"password\"\n                >\n                  Password\n                </label>\n                <input\n                  className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline\"\n                  id=\"password\"\n                  type=\"password\"\n                  placeholder=\"******************\"\n                  onChange={handleOnChange}\n                  value={password}\n                />\n              </div>\n              <div className=\"flex text-xs\">\n                <div className=\"text-black text-opacity-60 mr-2\">\n                  If you don't have account ?\n                </div>\n                <div>\n                  <Link to=\"/register\" className=\"text-blue-500\">\n                    Sign up\n                  </Link>\n                </div>\n              </div>\n              <div className=\"flex items-center justify-center mt-2\">\n                <button\n                  className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\"\n                  type=\"submit\"\n                >\n                  Sign In\n                </button>\n              </div>\n            </div>\n            <div className=\"w-full mt-3\">\n              {alerts.map((item) => (\n                <div className=\"flex items-center bg-red-500 text-white rounded text-xs p-1 mb-1\">\n                  <div className=\"mr-3 text-base\">\n                    <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 12 12\">\n                      <g fill=\"none\">\n                        <path\n                          d=\"M6 11A5 5 0 1 0 6 1a5 5 0 0 0 0 10zm-.75-2.75a.75.75 0 1 1 1.5 0a.75.75 0 0 1-1.5 0zm.258-4.84a.5.5 0 0 1 .984 0l.008.09V6l-.008.09a.5.5 0 0 1-.984 0L5.5 6V3.5l.008-.09z\"\n                          fill=\"currentColor\"\n                        ></path>\n                      </g>\n                    </svg>\n                  </div>\n                  <div>{item.msg}</div>\n                </div>\n              ))}\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nLogin.propTypes = {\n  login: PropTypes.func.isRequired,\n  isAuthenticated: PropTypes.bool,\n  alerts: PropTypes.array,\n};\n\nconst mapStateToProps = (state) => ({\n  isAuthenticated: state.auth.isAuthenticated,\n  alerts: state.alerts,\n});\n\nexport default connect(mapStateToProps, { login })(Login);\n","import { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\nimport { useState } from \"react\";\nimport { register } from \"../../actions/auth\";\n\nfunction Register({ register, alerts }) {\n  let [form, setForm] = useState({});\n\n  function handleChange(e) {\n    setForm({ ...form, [e.target.id]: e.target.value });\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    console.log(form);\n    register(form);\n  }\n  return (\n    <div className=\"h-full bg-img-background bg-cover bg-no-repeat\">\n      <div className=\"w-full h-full max-w-screen-sm\">\n        <div className=\"h-full w-1/2 items-center flex justify-center bg-white bg-opacity-50 shadow-2xl rounded\">\n          <form className=\"max-w-lg\" onSubmit={handleSubmit}>\n            <div className=\"text-6xl mb-12\">Sign up</div>\n\n            <div className=\"mb-4\">\n              <label\n                className=\"block text-gray-700 text-sm font-bold mb-2\"\n                htmlFor=\"name\"\n              >\n                Full name\n              </label>\n              <input\n                className=\"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\"\n                id=\"name\"\n                type=\"text\"\n                placeholder=\"Name\"\n                onChange={handleChange}\n              />\n            </div>\n            <div className=\"mb-4\">\n              <label\n                className=\"block text-gray-700 text-sm font-bold mb-2\"\n                htmlFor=\"email\"\n              >\n                Email\n              </label>\n              <input\n                className=\"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\"\n                id=\"email\"\n                type=\"text\"\n                placeholder=\"Email\"\n                onChange={handleChange}\n              />\n            </div>\n            <div className=\"flex flex-wrap -mx-3\">\n              <div className=\"w-full px-3\">\n                <label\n                  className=\"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2\"\n                  htmlFor=\"password\"\n                >\n                  Password\n                </label>\n                <input\n                  className=\"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\"\n                  id=\"password\"\n                  type=\"password\"\n                  placeholder=\"******************\"\n                  onChange={handleChange}\n                />\n              </div>\n            </div>\n\n            <div className=\"flex text-xs mb-1\">\n              <div className=\"text-black text-opacity-60 mr-2\">\n                If you have account ?\n              </div>\n              <div>\n                <Link to=\"/login\" className=\"text-blue-500\">\n                  Login\n                </Link>\n              </div>\n            </div>\n\n            <div className=\"flex items-center justify-center\">\n              <button\n                className=\"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\"\n                type=\"submit\"\n              >\n                Sign up\n              </button>\n            </div>\n\n            <div className=\"w-full mt-3\">\n              {alerts.map((item, index) =>\n                item.type === \"failed\" ? (\n                  <div\n                    key={index}\n                    className=\"flex items-center bg-red-500 text-white rounded text-xl p-1 mb-1\"\n                  >\n                    <div className=\"mr-3 text-xl\">\n                      <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 12 12\">\n                        <g fill=\"none\">\n                          <path\n                            d=\"M6 11A5 5 0 1 0 6 1a5 5 0 0 0 0 10zm-.75-2.75a.75.75 0 1 1 1.5 0a.75.75 0 0 1-1.5 0zm.258-4.84a.5.5 0 0 1 .984 0l.008.09V6l-.008.09a.5.5 0 0 1-.984 0L5.5 6V3.5l.008-.09z\"\n                            fill=\"currentColor\"\n                          ></path>\n                        </g>\n                      </svg>\n                    </div>\n                    <div>{item.msg}</div>\n                  </div>\n                ) : (\n                  <div\n                    key={index}\n                    className=\"flex items-center bg-green-500 text-gray-700 rounded text-xl p-1 mb-1\"\n                  >\n                    <div className=\"mr-3 text-xl\">\n                      <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 12 12\">\n                        <g fill=\"none\">\n                          <path\n                            d=\"M6 11A5 5 0 1 0 6 1a5 5 0 0 0 0 10zm-.75-2.75a.75.75 0 1 1 1.5 0a.75.75 0 0 1-1.5 0zm.258-4.84a.5.5 0 0 1 .984 0l.008.09V6l-.008.09a.5.5 0 0 1-.984 0L5.5 6V3.5l.008-.09z\"\n                            fill=\"currentColor\"\n                          ></path>\n                        </g>\n                      </svg>\n                    </div>\n                    <div>{item.msg}</div>\n                  </div>\n                )\n              )}\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nRegister.prototype = {\n  alerts: PropTypes.array,\n  register: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  alerts: state.alerts,\n});\n\nexport default connect(mapStateToProps, { register })(Register);\n","import { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\n\nfunction Message({ isAuthenticated, room, user, socket }) {\n  let [messages, setMessages] = useState([]);\n  let [message, setMessage] = useState(\"\");\n\n  useEffect(() => {\n    if (socket) {\n      socket.on(\"message\", (message) => {\n        setMessages([...messages, message]);\n        let element = document.getElementById(\"messages\");\n        element.scrollTop = element.scrollHeight;\n      });\n    }\n\n    return () => {\n      socket?.off(\"message\");\n    };\n  });\n\n  function handleInput(e) {\n    e.preventDefault();\n    setMessage(e.target.value);\n  }\n\n  function handleSendMessage(e) {\n    e.preventDefault();\n    if (message && socket) {\n      socket.emit(\"sendMessage\", { name: user.name, msg: message, room });\n      setMessage(\"\");\n    }\n  }\n\n  function renderMessage(item, index) {\n    if (item.name !== \"Admin\")\n      return (\n        <div\n          className={\n            item.name === user.name ? \"flex justify-end\" : \"flex justify-start\"\n          }\n        >\n          <div\n            key={index}\n            className={\n              item.name === user.name\n                ? \"w-auto max-w-full inline-block p-2 rounded-xl bg-blue-500 my-1 text-white\"\n                : \"w-auto max-w-full inline-block p-2 rounded-xl bg-gray-400 my-1\"\n            }\n          >\n            <p className=\"text-xs font-bold w-auto max-w-full\">{item.name}</p>\n            <p className=\"w-auto max-w-full\">{item.msg}</p>\n          </div>\n        </div>\n      );\n    return (\n      <div key={index} className=\"flex justify-center text-gray-400\">\n        {item.msg}\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"h-full w-full\">\n      <div className=\"h-full mx-2\">\n        <div\n          id=\"messages\"\n          className=\"h-full pb-16 text-sm pt-2 overflow-y-auto no-scrollbar\"\n        >\n          <div className=\"\">\n            {messages?.map((item, index) => renderMessage(item, index))}\n          </div>\n        </div>\n      </div>\n\n      <div className=\"fixed bottom-0 w-1/4 bg-white\">\n        <form\n          className=\"h-16 w-full flex border-t p-2 items-center justify-center\"\n          onSubmit={handleSendMessage}\n        >\n          <div className=\"h-full w-11/12 p-1 flex items-center\">\n            <input\n              type=\"text\"\n              name=\"message\"\n              autoComplete=\"off\"\n              placeholder=\"Ab\"\n              value={message}\n              onChange={handleInput}\n              className=\"h-full w-full text-xs no-scrollbar resize-none outline-none border-gray-400 border rounded-full p-2\"\n            />\n          </div>\n          <div className=\"h-full flex items-center w-1/12 text-2xl\">\n            <button type=\"submit\" className=\"focus:outline-none\">\n              <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 15 15\">\n                <g fill=\"none\">\n                  <path\n                    d=\"M14.5.5l.46.197a.5.5 0 0 0-.657-.657L14.5.5zm-14 6l-.197-.46a.5.5 0 0 0-.06.889L.5 6.5zm8 8l-.429.257a.5.5 0 0 0 .889-.06L8.5 14.5zM14.303.04l-14 6l.394.92l14-6l-.394-.92zM.243 6.93l5 3l.514-.858l-5-3l-.514.858zM5.07 9.757l3 5l.858-.514l-3-5l-.858.514zm3.889 4.94l6-14l-.92-.394l-6 14l.92.394zM14.146.147l-9 9l.708.707l9-9l-.708-.708z\"\n                    fill=\"currentColor\"\n                  ></path>\n                </g>\n              </svg>\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nconst mapStateToProps = (state) => ({\n  isAuthenticated: state.auth.isAuthenticated,\n  user: state.auth.user,\n});\n\nexport default connect(mapStateToProps)(Message);\n","import { useParams } from \"react-router\";\nimport Message from \"../Message/Message\";\nimport { connect } from \"react-redux\";\nimport { useEffect, useState } from \"react\";\nimport { loadUser } from \"../../actions/auth\";\nimport io from \"socket.io-client\";\nimport Peer from \"peerjs\";\n\nconst END_POINT = \"https://room-call-chat-app.herokuapp.com/\";\n// const END_POINT = \"http://localhost:5000\";\n\nfunction Room({ isAuthenticated, user }) {\n  let [room] = useState(useParams().id);\n  let [socket, setSocket] = useState(null);\n  let [members, setMembers] = useState([]);\n  let [peer, setPeer] = useState(null);\n\n  useEffect(() => {\n    loadUser();\n    setSocket(\n      io(END_POINT, {\n        transports: [\"websocket\", \"polling\", \"flashsocket\"],\n      })\n    );\n\n    setPeer(new Peer());\n  }, []);\n\n  useEffect(() => {\n    peer?.on(\"open\", (id) => {\n      socket.emit(\"joinRoom\", { name: user.name, room, peerID: id });\n\n      socket.on(\"allMembers\", (userPeers) => {\n        let videos = document.getElementById(\"videoContainer\");\n        videos.innerHTML = \"\";\n        setMembers(userPeers);\n        navigator.mediaDevices\n          .getUserMedia({ video: true, audio: true })\n          .then((stream) => {\n            playStream(id, stream);\n            userPeers.forEach((member) => {\n              if (member !== peer.id) {\n                let call = peer.call(member, stream);\n                call?.on(\"stream\", (remoteStream) => {\n                  playStream(member, remoteStream);\n                });\n              }\n            });\n            console.log(id, userPeers[1]);\n          });\n\n        // Answer\n        peer.on(\"call\", (call) => {\n          navigator.mediaDevices\n            .getUserMedia({ video: true, audio: true })\n            .then((stream) => {\n              call.answer(stream);\n              playStream(id, stream);\n              userPeers.forEach((member) => {\n                if (member !== peer.id) {\n                  call?.on(\"stream\", (remoteStream) => {\n                    playStream(member, remoteStream);\n                  });\n                }\n              });\n            });\n        });\n      });\n    });\n  }, [socket, room, user, peer, members]);\n\n  // useEffect(() => () => socket?.close());\n\n  function playStream(id, stream) {\n    if (!document.getElementById(id)) {\n      let video = document.createElement(\"video\");\n      let div = document.createElement(\"div\");\n      let videos = document.getElementById(\"videoContainer\");\n\n      div.className = \"max-w-full min-w-min flex justify-center items-center\";\n      video.srcObject = stream;\n      video.muted = \"muted\";\n      div.id = id;\n      var playPromise = video.play();\n      if (playPromise !== undefined) {\n        playPromise\n          .then((_) => {})\n          .catch((error) => {\n            console.log(error);\n          });\n      }\n      div.appendChild(video);\n      videos.appendChild(div);\n    }\n  }\n\n  return (\n    <div className=\"w-full h-full flex\">\n      <div\n        className=\"w-3/4 h-full grid grid-cols-2 gap-2 overflow-y-scroll bg-black bg-opacity-90 p-2\"\n        id=\"videoContainer\"\n      ></div>\n      <div className=\"w-1/4 h-full border-l border-gray-300\">\n        <Message room={room} socket={socket} />\n      </div>\n    </div>\n  );\n}\n\nconst mapStateToProps = (state) => ({\n  isAuthenticated: state.auth.isAuthenticated,\n  user: state.auth.user,\n});\n\nexport default connect(mapStateToProps, { loadUser })(Room);\n","import {\n  LOGIN_SUCCESS,\n  LOGIN_FAILED,\n  REGISTER_SUCCESS,\n  REGISTER_FAILED,\n  LOAD_USER_SUCCESS,\n  LOAD_USER_FAILED,\n  LOG_OUT,\n} from \"../actions/types\";\n\nconst initialState = {\n  token: localStorage.getItem(\"token\"),\n  isAuthenticated: false,\n  user: null,\n  loading: true,\n};\n\nfunction authReducer(state = initialState, action) {\n  const { type, payload } = action;\n\n  switch (type) {\n    case REGISTER_SUCCESS:\n      return state;\n    case REGISTER_FAILED:\n      return state;\n    case LOGIN_SUCCESS:\n      return {\n        ...state,\n        ...payload,\n        isAuthenticated: true,\n      };\n\n    case LOGIN_FAILED:\n      return {\n        ...state,\n        isAuthenticated: false,\n        user: null,\n      };\n    case LOAD_USER_SUCCESS:\n      return {\n        ...state,\n        ...payload,\n        isAuthenticated: true,\n        loading: false,\n      };\n    case LOAD_USER_FAILED:\n      return state;\n    case LOG_OUT:\n      return {\n        ...state,\n        user: null,\n        isAuthenticated: false,\n        token: null,\n        loading: false,\n      };\n    default:\n      return state;\n  }\n}\n\nexport default authReducer;\n","import { ADD_ALERT, REMOVE_ALERT } from \"../actions/types\";\n\nconst initialState = [];\n\nfunction alertReducer(state = initialState, action) {\n  const { type, payload } = action;\n  switch (type) {\n    case ADD_ALERT:\n      return [...state, payload];\n    case REMOVE_ALERT:\n      return state.filter((item) => item.id !== payload.id);\n    default:\n      return state;\n  }\n}\n\nexport default alertReducer;\n","import { combineReducers } from \"redux\";\nimport authReducer from \"./auth\";\nimport alertReducer from \"./alert\";\n\nexport default combineReducers({\n  auth: authReducer,\n  alerts: alertReducer,\n});\n","import api from \"./index\";\n\nconst setToken = (token) => {\n  if (token) {\n    api.defaults.headers.common[\"x-auth-token\"] = token;\n    localStorage.setItem(\"token\", token);\n  } else {\n    delete api.defaults.headers.common[\"x-auth-token\"];\n    localStorage.removeItem(\"token\");\n  }\n};\n\nexport default setToken;\n","import { createStore, applyMiddleware } from \"redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport thunk from \"redux-thunk\";\nimport rootReducer from \"./reducers\";\nimport setToken from \"./api/setToken\";\nconst initialState = {};\n\nconst store = createStore(\n  rootReducer,\n  initialState,\n  composeWithDevTools(applyMiddleware(thunk))\n);\n\nlet currentState = store.getState();\n\nstore.subscribe(() => {\n  let preState = currentState;\n  currentState = store.getState();\n  if (preState.auth.token !== currentState.auth.token) {\n    setToken(currentState.auth.token);\n  }\n});\n\nexport default store;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst PrivateRoute = ({\n  component: Component,\n  auth: { isAuthenticated, loading },\n  ...rest\n}) => (\n  <Route\n    {...rest}\n    render={(props) =>\n      loading ? null : isAuthenticated ? (\n        <Component {...props} />\n      ) : (\n        <Redirect to=\"/login\" />\n      )\n    }\n  />\n);\n\nPrivateRoute.prototype = {\n  auth: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  auth: state.auth,\n});\n\nexport default connect(mapStateToProps)(PrivateRoute);\n","import { Route, Switch } from \"react-router-dom\";\nimport Home from \"./components/Home/Home\";\nimport Login from \"./components/Login/Login\";\nimport Register from \"./components/Register/Register\";\nimport Room from \"./components/Room/Room\";\nimport { useEffect } from \"react\";\nimport { Provider } from \"react-redux\";\nimport store from \"./store\";\nimport setToken from \"./api/setToken\";\nimport { loadUser } from \"./actions/auth\";\nimport PrivateRoute from \"./components/PrivateRoute\";\n\nfunction App() {\n  useEffect(() => {\n    if (localStorage.getItem(\"token\")) {\n      setToken(localStorage.getItem(\"token\"));\n    }\n    store.dispatch(loadUser());\n  }, []);\n  return (\n    <Provider store={store}>\n      <div className=\"App h-full font-mono\">\n        <Switch>\n          <Route path=\"/login\" exact component={Login} />\n          <Route path=\"/register\" exact component={Register} />\n          <PrivateRoute path=\"/rooms/:id\" component={Room} />\n          <Route path=\"/\" exact component={Home} />\n        </Switch>\n      </div>\n    </Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter as Router} from 'react-router-dom'\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <Router>\n    <App />\n  </Router>,\n  document.getElementById('root')\n);"],"sourceRoot":""}